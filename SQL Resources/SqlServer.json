{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "sqlServerNamePrefix": {
      "type": "string",
      "metadata": {
        "description": "The prefix for the sql server name. Elements of the Resource Group ID will be added to this name to ensure uniqueness"
      }
    },
    "sqlServerAdminUsername": {
      "type": "string",
      "metadata": {
        "description": "The admin username for the Azure SQL Server instance."
      }
    },
    "sqlServerAdminPassword": {
      "type": "securestring",
      "metadata": {
        "description": "The admin password for the Azure SQL Server instance."
      }
    },
    "sqlServerResources": {
      "type": "array",
      "defaultValue": [],
      "metadata": {
        "description": "A array of objects that should be added to the Azure SQL Server. Example of objects include databases, firewall rules and Azure AD Administrators"
      }
    },
    "deploymentLocation": {
      "type": "string",
      "defaultValue": "[resourceGroup().location]",
      "metadata": {
        "description": "The Azure location that the resource should be deployed into. Defaults to the location of the resource group."
      }
    }
  },
  "variables": {
    "sqlServerName": "[toLower(concat(parameters('sqlServerNamePrefix'),'-',uniqueString(resourceGroup().id)))]"
  },
  "resources": [
    {
      "name": "[variables('sqlServerName')]",
      "type": "Microsoft.Sql/servers",
      "kind": "v12.0",
      "location": "[parameters('deploymentLocation')]",
      "apiVersion": "2014-04-01-preview",
      "dependsOn": [],
      "properties": {
        "administratorLogin": "[parameters('sqlServerAdminUsername')]",
        "administratorLoginPassword": "[parameters('sqlServerAdminPassword')]",
        "version": "12.0"
      },
      "resources": "[parameters('sqlServerResources')]"
    }
  ],
  "outputs": {

  }
}